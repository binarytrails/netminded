<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="../images/favicon.ico" />
    <title>Netminded</title>

    <!--jQuery-->
  	<script src="../libs/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="../libs/jquery.min.js"></script>
	<script src="../libs/jquery-ui.min.js"></script>

    <!--P5-->
    <script src="../libs/p5.js" type="text/javascript"></script>
    <script src="../libs/p5.dom.js" type="text/javascript"></script>
    <script src="../libs/p5.sound.js" type="text/javascript"></script>

	<!--Other libraries -->
    <script src='../libs/responsivevoice.js'></script>
  	<script src="../libs/slick.js" type="text/javascript" charset="utf-8"></script>
    <script src="../libs/tracking-min.js"></script>

	<!--javascript-->
   	<script src="js/sketch.js" type="text/javascript" charset="utf-8"></script>

    <link rel="stylesheet" type="text/css" href="css/second.css">
  	<link rel="stylesheet" type="text/css" href="css/second-carousel.css">

    <style type="text/css">
        html, body {
          margin: 0;
          padding: 0;
          color: #8c8c8c;
          font-size: 11px;
        }

        * {
          box-sizing: border-box;
        }

        .slider {
            width: 90%;
            margin: 2% auto;
        }

        .slick-slide {
          margin: 0px 0px;
        }

        .slick-slide img {
          width: 80%;
          height: 200px;
        }
        /*Arrows*/
        .slick-prev:before,
        .slick-next:before {
            color: black;
        }
        video, canvas
        {
            margin-left: 100px;
            margin-top: 35px;
            position: absolute;
        }
    </style>
    <script>
        $(document).ready(function()
        {
            // Capture vars to time the color processing
            var capStart = (new Date()).getTime(),  // secs
                capInterval = 5,                    // secs
                capDelay = 2;                       // secs

            // Camera processing using tracking.js
            tracking.track('#video', tracker, { camera: true });

            tracker.on('track', function(event)
            {
                context.clearRect(0, 0, canvas.width, canvas.height);

                event.data.forEach(function(rect)
                {
                    // Colors logic
                    //console.log(rect.color);

                    // It will look every n sec (interval) during k sec (delay)
                    if ((diffInSeconds(capStart) >= capInterval) &&
                        (diffInSeconds(capStart) <= capInterval + capDelay))
                    {
                        console.log('timed color capturing');
                    }
                    // After which it will reset capture start to current time
                    else if (diffInSeconds(capStart) >= capInterval + capDelay)
                    {
                        capStart = (new Date()).getTime();
                    }

                    /* To see them on camera display
                     * turn-off the z-index on #container
                     */
                    drawRectangles(context, rect);
                });

                // Add the colors to the tracker
                for (var name in colors)
                {
                    tracker.customColor = colors[name];
                    createCustomColor(
                        tracking, name, colors[name]);
                }
                // Update the tracker
                tracker.setColors(trackedColors);
            });
        });
    </script>
  </head>
  <body>
    <div id="container">
        <!-- <div id="whiteSquare"></div> --!>
        <img id="logo"src="../images/logo.png">
        <img src="../images/background_2.jpg" id="fullImg"></img>

        <section class="center slider" id="slider1"></section>
        <section class="center slider" id="slider2"></section>
        <section class="center slider" id="slider3"></section>

        <div id="footer">
            &copy; 2016-2078 Netminded, Inc
        </div>
    </div>
    <div class="video-frame">
        <video id="video" width="600" height="450"
            preload autoplay loop muted controls>
        </video>
        <canvas id="canvas" width="600" height="450"></canvas>
    </div>
    <!-- Load the camera script once the video-frame is loaded -->
    <script src="js/camera.js"></script>
  </body>
</html>
